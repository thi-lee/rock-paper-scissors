<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <link rel="stylesheet" type="text/css" href="css/reset.css" media="all"/>
        <link rel="stylesheet" type="text/css" href="css/main.css" media="all"/>
    </head>
    <body>
        <div class='container'>
            <div class=buttons>
                <button class='1'>Rock</button>
                <button class='2'>Paper</button>
                <button class='3'>Scissors</button>
            </div>
            <div class='result'></div>
        </div>
        <div class='scores'>
            <div class='cScore' style="background-color: lightblue">a</div>
            <div class='mScore' style="background-color: lightcoral">a</div>
        </div>

        <script>

            // computer random a number, which corresponds to rock/paper/scissors
            function computerPlay() {
                // 1 = "rock", 2 = "paper", 3 = "scissors"
                let cselection = Math.floor(Math.random() * 3) + 1;
                // this line is to check what the computer random
                console.log(`cselection ${cselection}`);
                return cselection;
            }

            function playerPlay(className) {
                let pselection = className;
                return pselection;
            }

            function playRound(playerSelection, computerSelection) {
                // check the cases when won/lost/tied
                switch(playerSelection){
                    case 1:
                        if (computerSelection == 1) {return `You tied.`;}
                        if (computerSelection == 2) {return `You lost.`;}
                        if (computerSelection == 3) {return `You won.`;}
                    case 2: 
                        if (computerSelection == 2) {return `You tied.`;}
                        if (computerSelection == 3) {return `You lost.`;}
                        if (computerSelection == 1) {return `You won.`;}
                    case 3: 
                        if (computerSelection == 3) {return `You tied.`;}
                        if (computerSelection == 1) {return `You lost.`;}
                        if (computerSelection == 2) {return `You won.`;}
                }
            }

            // all buttons will have the same function, they just give different results
            let buttons = document.querySelectorAll('button');
            // for each button, when it is clicked...
            buttons.forEach((button) => {
                button.addEventListener('click', () => {
                    let us = 0;
                    let them = 0;
                    pselection = playerPlay(Number(button.className)); // player selection will be whatever the button's className is converted to number
                    
                    cselection = computerPlay(); // computer selection will be what the computer randoms
                    
                    console.log(pselection); // this is to check what the player selects
                    
                    let roundResult = playRound(pselection, cselection);
                    if (roundResult == 'You lost.') {
                        them++;
                    } else if (roundResult == 'You won.') {
                        us++;
                    }
                    scores(us, them);
                    result.textContent = roundResult; // prints the result to the screen (add to HTML)
                })
            })

            function scores(us, them) {
                if (them > us) {
                    let cScore = document.querySelector('.cScore');
                     cScore.textContent = `${them}`;
                } else {
                    let mScore = document.querySelector('.mScore');
                    mScore.textContent = `${us}`;
                }
            }
            

            // point to container of buttons
            let result = document.querySelector('.result');
            // add result to DOM to display
            container.appendChild(result);
        </script>
    </body>
</html>