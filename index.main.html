<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <link rel="stylesheet" type="text/css" href="css/reset.css" media="all"/>
        <link rel="stylesheet" type="text/css" href="css/main.css" media="all"/>
    </head>
    <body>
        <div class='container'>
            <div class=buttons><button class='1'>Rock</button>
            <button class='2'>Paper</button>
            <button class='3'>Scissors</button></div>
        </div>
        <div class='scores'>
            <div class='cScore'></div>
            <div class='mScore'></div>
        </div>

        <script>

            // computer random a number, which corresponds to rock/paper/scissors
            function computerPlay() {
                // 1 = "rock", 2 = "paper", 3 = "scissors"
                let cselection = Math.floor(Math.random() * 3) + 1;
                // this line is to check what the computer random
                console.log(`cselection ${cselection}`);
                return cselection;
            }

            function playerPlay(className) {
                let pselection = className;
                return pselection;
            }

            function playRound(playerSelection, computerSelection) {
                // check the cases when won/lost/tied
                switch(playerSelection){
                    case 1:
                        if (computerSelection == 1) {return `You tied.`;}
                        if (computerSelection == 2) {return `You lost.`;}
                        if (computerSelection == 3) {return `You won.`;}
                    case 2: 
                        if (computerSelection == 2) {return `You tied.`;}
                        if (computerSelection == 3) {return `You lost.`;}
                        if (computerSelection == 1) {return `You won.`;}
                    case 3: 
                        if (computerSelection == 3) {return `You tied.`;}
                        if (computerSelection == 1) {return `You lost.`;}
                        if (computerSelection == 2) {return `You won.`;}
                }
            }
            // all buttons will have the same function, they just give different results
            let buttons = document.querySelectorAll('button');
            // for each button, when it is clicked...
            buttons.forEach((button) => {
                button.addEventListener('click', () => {
                    // player selection will be whatever the button's className is converted to number
                    pselection = playerPlay(Number(button.className));
                    // computer selection will be what the computer randoms
                    cselection = computerPlay();

                    // this is to check what the player selects
                    console.log(pselection);
                    
                    // prints the result to the screen (add to HTML)
                    result.textContent = playRound(pselection, cselection);
                })
            })
            let scores = document.querySelector('.scores');

            // point to container of buttons
            let container = document.querySelector('.container');
            // create a div underneath the buttons
            let result = document.createElement('div');
            // add result to DOM to display
            container.appendChild(result);
        </script>
    </body>
</html>